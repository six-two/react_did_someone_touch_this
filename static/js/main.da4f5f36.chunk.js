(this.webpackJsonpreact_did_someone_touch_this=this.webpackJsonpreact_did_someone_touch_this||[]).push([[0],{17:function(e,t,a){e.exports=a(34)},27:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),c=a(2),s=a(1),u=a(3),m=a(4),f=a(6),l=a(5),g=(a(27),a(16)),b=a.n(g);function d(e){return I("BEFORE_IMAGE",e)}function p(e){return I("AFTER_IMAGE",e)}function I(e,t){return{type:"SET_IMAGE",payload:{imageName:e,imageData:t}}}var h=function(e){Object(f.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).imageVersion=void 0,n.resembleControl=void 0,n.onComplete=function(e){var t=e.getImageDataUrl();n.props.setDiffImage(t)},n.imageVersion=-1,n.state={},n}return Object(m.a)(a,[{key:"render",value:function(){return this.updateDiffImageIfNeeded(),this.resembleControl.repaint(),r.a.createElement("div",{className:"images"},r.a.createElement("h2",null,"Difference"),function(e){if(e)return r.a.createElement("img",{src:e})}(this.props.diffImageData))}},{key:"updateDiffImageIfNeeded",value:function(){var e=this.props.afterImage.updateCount+this.props.beforeImage.updateCount;if(e!==this.imageVersion){this.imageVersion=e;var t=this.props.afterImage.data,a=this.props.beforeImage.data;t&&a&&(this.resembleControl=b()(a).compareTo(t).ignoreColors().onComplete(this.onComplete),this.resembleControl.scaleToSameSize(),this.resembleControl.outputSettings({errorType:"movementDifferenceIntensity",transparency:.5}))}}}]),a}(r.a.Component);var v=Object(c.b)((function(e,t){return Object(s.a)(Object(s.a)({},t),{},{beforeImage:e.beforeImage,afterImage:e.afterImage,diffImageData:e.diffImage.data})}),(function(e){return{setDiffImage:function(t){return e(function(e){return I("DIFF_IMAGE",e)}(t))}}}))(h),O=a(9),E=a.n(O),j=function(e){Object(f.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).webcamRef=void 0,n.onClick=function(e){var t=n.webcamRef.current.getScreenshot();n.props.setAfterImage(t)},n.state={},n.webcamRef=r.a.createRef(),n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"cam-overlay"},r.a.createElement("img",{src:this.props.beforeImageData}),r.a.createElement(E.a,{ref:this.webcamRef,className:"cam",onClick:this.onClick,audio:!1,videoConstraints:w}))}}]),a}(r.a.Component),C=Object(c.b)((function(e,t){return Object(s.a)(Object(s.a)({},t),{},{beforeImageData:e.beforeImage.data})}),(function(e){return{setAfterImage:function(t){return e(p(t))}}}))(j),_=function(e){Object(f.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).webcamRef=void 0,n.onClick=function(e){var t=n.webcamRef.current.getScreenshot();n.props.setBeforeImage(t)},n.state={},n.webcamRef=r.a.createRef(),n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,{ref:this.webcamRef,className:"cam",onClick:this.onClick,audio:!1,videoConstraints:w})}}]),a}(r.a.Component),D=Object(c.b)((function(e,t){return Object(s.a)({},t)}),(function(e){return{setBeforeImage:function(t){return e(d(t))}}}))(_),w={facingMode:{ideal:"environment"}},k=function(e){Object(f.a)(a,e);var t=Object(l.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("span",{className:"err-msg"},"This website is still in pre alpha state. It is likely instable, buggy, ugly and might get broken from time to time."),r.a.createElement("div",{className:"app-contents"},this.renderContents()))}},{key:"renderContents",value:function(){return this.props.beforeImageData?this.props.afterImageData?r.a.createElement(v,null):r.a.createElement(C,null):r.a.createElement(D,null)}}]),a}(r.a.Component),y=Object(c.b)((function(e,t){return Object(s.a)(Object(s.a)({},t),{},{beforeImageData:e.beforeImage.data,afterImageData:e.afterImage.data})}),(function(e){return{setBeforeImage:function(t){return e(d(t))},setAfterImage:function(t){return e(p(t))}}}))(k);var N=a(8);var R=function(e,t){switch(e||(console.warn("No state was supplied to reducer. Falling back to default values"),e=S),t.type){case"SET_IMAGE":var a=t.payload;switch(a.imageName){case"AFTER_IMAGE":return Object(s.a)(Object(s.a)({},e),{},{afterImage:{data:a.imageData,updateCount:e.afterImage.updateCount+1}});case"BEFORE_IMAGE":return Object(s.a)(Object(s.a)({},e),{},{beforeImage:{data:a.imageData,updateCount:e.beforeImage.updateCount+1}});case"DIFF_IMAGE":return Object(s.a)(Object(s.a)({},e),{},{diffImage:{data:a.imageData,updateCount:e.diffImage.updateCount+1}});default:console.warn('Unknown image name: "'.concat(a.imageName,'"'))}default:console.warn('Unknown action type: "'.concat(t.type,'"'))}return e},A={data:null,updateCount:0},S={beforeImage:A,afterImage:A,diffImage:A},T=void 0;if(window.__REDUX_DEVTOOLS_EXTENSION__){T=window.__REDUX_DEVTOOLS_EXTENSION__({trace:!1,traceLimit:25})}var M=Object(N.b)(R,S,T);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:M},r.a.createElement(y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.da4f5f36.chunk.js.map