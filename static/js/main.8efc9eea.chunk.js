(this.webpackJsonpreact_did_someone_touch_this=this.webpackJsonpreact_did_someone_touch_this||[]).push([[0],{17:function(e,t,a){e.exports=a(34)},27:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(7),i=a.n(o),c=a(4),s=a(1),u=a(2),m=a(3),f=a(6),l=a(5),g=(a(27),a(15));function d(e,t){return{type:"SET_IMAGE",payload:{imageName:e,imageData:t}}}var p=function(e){Object(f.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).imageVersion=void 0,r.resembleCallback=function(e,t){if(e)console.error("An error occured while comparing the images: ",e);else{var a=t.getImageDataUrl();r.props.setDiffImage(a)}},r.imageVersion=-1,r.state={},r}return Object(m.a)(a,[{key:"render",value:function(){return this.updateDiffImageIfNeeded(),n.a.createElement("div",{className:"images"},n.a.createElement("h2",null,"Difference"),function(e){if(e)return n.a.createElement("img",{src:e,alt:"Differences between the before and after pictures"})}(this.props.diffImageData))}},{key:"updateDiffImageIfNeeded",value:function(){var e=this.props.afterImage.updateCount+this.props.beforeImage.updateCount;if(e!==this.imageVersion){this.imageVersion=e;var t=this.props.afterImage.data,a=this.props.beforeImage.data;if(t&&a){Object(g.compare)(a,t,{output:{errorType:"movementDifferenceIntensity",transparency:.7,largeImageThreshold:1500,useCrossOrigin:!1,outputDiff:!0},scaleToSameSize:!0,ignore:"colors"},this.resembleCallback)}}}}]),a}(n.a.Component);var b=Object(c.b)((function(e,t){return Object(s.a)(Object(s.a)({},t),{},{beforeImage:e.beforeImage,afterImage:e.afterImage,diffImageData:e.diffImage.data})}),(function(e){return{setDiffImage:function(t){return e(function(e){return d("DIFF_IMAGE",e)}(t))}}}))(p),I=a(16),h=a.n(I),E=function(e){Object(f.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).webcamRef=void 0,r.onClick=function(e){var t=r.webcamRef.current.getScreenshot();r.props.onPhoto(t)},r.webcamRef=n.a.createRef(),r}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.backgroundImage,t="take-image-div"+(e?" transparent-cam":"");return n.a.createElement("div",{className:t},e?n.a.createElement("img",{src:e,alt:""}):null,n.a.createElement(h.a,{ref:this.webcamRef,className:"cam",onClick:this.onClick,audio:!1,videoConstraints:v}))}}]),a}(n.a.Component),v={facingMode:{ideal:"environment"}},O=function(e){Object(f.a)(a,e);var t=Object(l.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("span",{className:"err-msg"},"This website is still in pre alpha state. It is likely instable, buggy, ugly and might get broken from time to time."),n.a.createElement("div",{className:"app-contents"},this.renderContents()))}},{key:"renderContents",value:function(){return this.props.beforeImageData?this.props.afterImageData?n.a.createElement(b,null):n.a.createElement(E,{onPhoto:this.props.setAfterImage,backgroundImage:this.props.beforeImageData}):n.a.createElement(E,{onPhoto:this.props.setBeforeImage})}}]),a}(n.a.Component),_=Object(c.b)((function(e,t){return Object(s.a)(Object(s.a)({},t),{},{beforeImageData:e.beforeImage.data,afterImageData:e.afterImage.data})}),(function(e){return{setBeforeImage:function(t){return e(function(e){return d("BEFORE_IMAGE",e)}(t))},setAfterImage:function(t){return e(function(e){return d("AFTER_IMAGE",e)}(t))}}}))(O);var j=a(8);var D=function(e,t){switch(e||(console.warn("No state was supplied to reducer. Falling back to default values"),e=w),t.type){case"SET_IMAGE":return function(e,t){var a=t.payload;switch(a.imageName){case"AFTER_IMAGE":return Object(s.a)(Object(s.a)({},e),{},{afterImage:{data:a.imageData,updateCount:e.afterImage.updateCount+1}});case"BEFORE_IMAGE":return Object(s.a)(Object(s.a)({},e),{},{beforeImage:{data:a.imageData,updateCount:e.beforeImage.updateCount+1}});case"DIFF_IMAGE":return Object(s.a)(Object(s.a)({},e),{},{diffImage:{data:a.imageData,updateCount:e.diffImage.updateCount+1}});default:return console.warn('Unknown image name: "'.concat(a.imageName,'"')),e}}(e,t);default:return console.warn('Unknown action type: "'.concat(t.type,'"')),e}},k={data:null,updateCount:0},w={beforeImage:k,afterImage:k,diffImage:k},C=void 0;if(window.__REDUX_DEVTOOLS_EXTENSION__){C=window.__REDUX_DEVTOOLS_EXTENSION__({trace:!1,traceLimit:25})}var y=Object(j.b)(D,w,C);i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(c.a,{store:y},n.a.createElement(_,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.8efc9eea.chunk.js.map