(this.webpackJsonpreact_did_someone_touch_this=this.webpackJsonpreact_did_someone_touch_this||[]).push([[0],{17:function(e,t,a){e.exports=a(34)},27:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),c=a(4),s=a(1),u=a(2),m=a(3),l=a(6),f=a(5),g=(a(27),a(15)),d=a.n(g),p=function(e){Object(l.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onComplete=function(e){n.setState({diffImage:e.getImageDataUrl()})},n.state={imageVersion:-1},n}return Object(m.a)(a,[{key:"render",value:function(){return this.updateDiffImageIfNeeded(),r.a.createElement("div",{className:"images"},r.a.createElement("h2",null,"Difference"),function(e){if(e)return r.a.createElement("img",{src:e})}(this.state.diffImage))}},{key:"updateDiffImageIfNeeded",value:function(){var e=this.props.afterImage.updateCount+this.props.beforeImage.updateCount;if(e!==this.state.imageVersion){this.setState({imageVersion:e});var t=this.props.afterImage.data,a=this.props.beforeImage.data;if(t&&a)d()(a).compareTo(t).onComplete(this.onComplete).ignoreColors()}}}]),a}(r.a.Component);var b=Object(c.b)((function(e,t){return Object(s.a)(Object(s.a)({},t),{},{beforeImage:e.beforeImage,afterImage:e.afterImage})}),(function(e){return{}}))(p),E=a(16),I=a.n(E),h=function(e){Object(l.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).webcamRef=void 0,n.onClick=function(e){var t=n.webcamRef.current.getScreenshot();n.props.setImage(t)},n.state={},n.webcamRef=r.a.createRef(),n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I.a,{ref:this.webcamRef,className:"cam",audio:!1,videoConstraints:O}),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.onClick},"Take photo"))}}]),a}(r.a.Component);function v(e,t){return{type:"SET_BEFORE_IMAGE",payload:{imageName:e,imageData:t}}}var O={facingMode:{ideal:"environment"}},_=function(e){Object(l.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggle_running=function(){n.setState({running:!n.state.running})},n.state={running:!1},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"root"},r.a.createElement("span",{className:"err-msg"},"This website is still in pre alpha state. It is likely instable, buggy, ugly and might get broken from time to time."),r.a.createElement("div",{className:"app-contents"},this.renderContents()))}},{key:"renderContents",value:function(){return this.props.beforeImageData?r.a.createElement("div",null,r.a.createElement("div",{className:"cam-overlay"},r.a.createElement("img",{src:this.props.beforeImageData}),r.a.createElement(h,{setImage:this.props.setAfterImage})),r.a.createElement(b,null)):r.a.createElement(h,{setImage:this.props.setBeforeImage})}}]),a}(r.a.Component),j=Object(c.b)((function(e,t){return Object(s.a)(Object(s.a)({},t),{},{beforeImageData:e.beforeImage.data})}),(function(e){return{setBeforeImage:function(t){return e(function(e){return v("SET_BEFORE_IMAGE",e)}(t))},setAfterImage:function(t){return e(function(e){return v("SET_AFTER_IMAGE",e)}(t))}}}))(_);var C=a(8);var w=function(e,t){switch(e||(console.warn("No state was supplied to reducer. Falling back to default values"),e=k),t.type){case"SET_BEFORE_IMAGE":var a=t.payload;switch(a.imageName){case"SET_AFTER_IMAGE":return Object(s.a)(Object(s.a)({},e),{},{afterImage:{data:a.imageData,updateCount:e.afterImage.updateCount+1}});case"SET_BEFORE_IMAGE":return Object(s.a)(Object(s.a)({},e),{},{beforeImage:{data:a.imageData,updateCount:e.beforeImage.updateCount+1}});default:console.warn('Unknown image name: "'.concat(a.imageName,'"'))}default:console.warn('Unknown action type: "'.concat(t.type,'"'))}return e},k={beforeImage:{data:null,updateCount:0},afterImage:{data:null,updateCount:0}},y=void 0;if(window.__REDUX_DEVTOOLS_EXTENSION__){y=window.__REDUX_DEVTOOLS_EXTENSION__({trace:!1,traceLimit:25})}var N=Object(C.b)(w,k,y);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:N},r.a.createElement(j,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.2117d9c8.chunk.js.map